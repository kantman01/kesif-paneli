            <div id="ddayLeftInfoCard" class="info-card left-info-card" style="display:none;">
                <button id="leftInfoCloseBtn" class="left-info-close-x" title="Kapat">&#10005;</button>
                <div class="card-header">Fırtına Öncesi Sessizlik: 1944 Dünyasına Bakış</div>
                <div class="card-body">
                    <div style="font-size:1rem;line-height:1.8;">
                    1944 yılına gelindiğinde, dünya tarihin gördüğü en karanlık ve en yıkıcı savaşın beşinci yılındaydı. Avrupa, Nazi Almanyası’nın 'Festung Europa' (Avrupa Kalesi) adını verdiği devasa bir hapishaneye dönüşmüştü. Hitler’in orduları, Pireneler’den Norveç fiyordlarına kadar neredeyse tüm kıtayı demir yumrukla yönetiyor, 'Atlantik Duvarı' adı verilen milyonlarca tonluk beton ve çelikten oluşan savunma hattıyla Müttefiklerin denizden gelebilecek her türlü hamlesini durdurmaya hazırlanıyordu.<br><br>
                    Ancak bu dev kalenin duvarları çatlamaya başlamıştı. Doğu Cephesi’nde Sovyetler Birliği, Stalingrad ve Kursk’taki kanlı zaferlerinin ardından Alman ordularını dev adımlarla geriye, Berlin’e doğru süpürüyordu. Kuzey Afrika temizlenmiş, İtalya’da ise zorlu bir cephe açılmıştı; fakat Nazileri kesin olarak diz çöktürecek olan şey, kalbinin tam ortasına, yani işgal altındaki Fransa’ya vurulacak ölümcül bir darbeydi.<br><br>
                    İşte Normandiya tam bu noktada, insanlığın son kumarı olarak belirdi. İngiltere’nin güney kıyıları binlerce tank, uçak ve milyonlarca askerle dolup taşan dev bir mühimmat deposuna dönüşmüştü. Müttefikler, düşmanı kandırmak için sahte telsiz trafikleri ve şişme ordularla tarihin en büyük aldatmacasını yürütürken; bir yanda demokrasinin son umudu, diğer yanda ise totaliter bir rejimin aşılmaz görünen surları vardı. 6 Haziran sabahı o sahile ayak basacak olan her bir asker, sadece bir plajı değil, medeniyetin geleceğini geri almak için yola çıkıyordu. Bu operasyonun başarısızlığı, Avrupa’nın on yıllar sürecek bir karanlığa hapsolması ve tarihin akışının sonsuza dek değişmesi demekti.
                    </div>
                </div>
            </div>
            <style>
                .left-info-card {
                    left: 48px;
                    right: auto;
                    top: 120px;
                    transform: none;
                    width: 420px;
                    max-height: 60vh;
                    background: #fff url('https://www.transparenttextures.com/patterns/old-mathematics.png') repeat;
                    border: 2px solid var(--gold);
                    border-radius: 14px;
                    box-shadow: 0 24px 64px rgba(212,175,55,0.22), 0 2px 16px rgba(139,0,0,0.12);
                    z-index: 4100;
                    display: block;
                    overflow: hidden;
                    padding-bottom: 24px;
                }
                .left-info-close-x {
                    position: absolute;
                    right: 15px;
                    top: 10px;
                    background: none;
                    border: none;
                    color: #8b0000;
                    font-size: 1.3rem;
                    font-family: 'Cinzel', serif;
                    cursor: pointer;
                    z-index: 4101;
                    transition: color 0.2s;
                }
                .left-info-close-x:hover {
                    color: var(--gold);
                }
                @media (max-width: 700px) {
                    .left-info-card {
                        left: 1vw;
                        width: 98vw;
                        max-height: 38vh;
                        border-radius: 8px;
                        padding-bottom: 32px;
                        top: 110px;
                        margin-top: 12px;
                    }
                    .left-info-close-x {
                        right: 8px;
                        top: 8px;
                        width: 32px;
                        height: 32px;
                        font-size: 1rem;
                    }
                }
                <script>
                    // Sol bilgi kartı aç/kapa ve sidebar ile entegrasyon
                    function openLeftInfoCard() {
                        const card = document.getElementById('ddayLeftInfoCard');
                        if (card) {
                            card.style.display = 'block';
                        }
                    }
                    function closeLeftInfoCard() {
                        const card = document.getElementById('ddayLeftInfoCard');
                        if (card) {
                            card.style.display = 'none';
                        }
                    }
                    document.addEventListener('DOMContentLoaded', function() {
                        const closeBtn = document.getElementById('leftInfoCloseBtn');
                        if (closeBtn) {
                            closeBtn.onclick = function() {
                                closeLeftInfoCard();
                            };
                        }
                        // İlk açılışta sol kartı göster
                        openLeftInfoCard();
                    });
                    // Sidebar açıldığında sol kartı kapat
                    function toggleSidebar() {
                        const sidebar = document.getElementById('sidebar-left');
                        const openBtn = document.getElementById('open-sidebar');
                        const timelineBar = document.getElementById('timelineBar');
                        const leftInfoCard = document.getElementById('ddayLeftInfoCard');
                        if (sidebar) {
                            sidebar.classList.toggle('closed');
                            if (sidebar.classList.contains('closed')) {
                                setTimeout(function() { if (openBtn) openBtn.style.display = 'block'; }, 300);
                                if (timelineBar) {
                                    timelineBar.style.display = 'flex';
                                    timelineBar.style.pointerEvents = 'auto';
                                }
                            } else {
                                if (openBtn) openBtn.style.display = 'none';
                                if (timelineBar) {
                                    timelineBar.style.display = 'none';
                                    timelineBar.style.pointerEvents = 'none';
                                }
                                if (leftInfoCard) leftInfoCard.style.display = 'none';
                            }
                            setTimeout(function() {
                                try {
                                    if (window.map && typeof window.map.invalidateSize === 'function') {
                                        window.map.invalidateSize();
                                    }
                                } catch (e) {}
                            }, 400);
                        }
                    }
            </style>
            <script>
                // Sol bilgi kartı aç/kapa
                function openLeftInfoCard() {
                    const card = document.getElementById('ddayLeftInfoCard');
                    if (card) card.style.display = 'block';
                }
                function closeLeftInfoCard() {
                    const card = document.getElementById('ddayLeftInfoCard');
                    if (card) card.style.display = 'none';
                }
                document.addEventListener('DOMContentLoaded', () => {
                    const closeBtn = document.getElementById('leftInfoCloseBtn');
                    if (closeBtn) closeBtn.onclick = closeLeftInfoCard;
                    // İlk açılışta sol kartı göster
                    openLeftInfoCard();
                });
            </script>
        <div id="ddayOverlay">
            <div class="dday-overlay-card">
                <div class="dday-overlay-title">D-Day: Operasyon Overlord</div>
                <div class="dday-overlay-text" id="ddayShortText">
                    6 Haziran 1944 sabahı, insanlık tarihinin en büyük askeri harekâtı başladı. Normandiya kıyılarında özgürlüğün bedeli ödenirken, Avrupa'nın kaderi birkaç saat içinde değişti. Binlerce asker, karanlıkta umut ve korkuyla kıyıya adım attı. D-Day, sadece bir çıkartma değil; Batı dünyasının yeniden doğuşuydu.
                </div>
                <div class="dday-overlay-meta">
                    <span>Normandiya Kıyıları, Fransa</span>
                    <span>6 Haziran 1944</span>
                    <span>Özgürlüğün Bedeli</span>
                </div>
                <button id="ddayOverlayStart" class="dday-overlay-btn">Keşfe Başla&nbsp;❯</button>
            </div>
        </div>
        <style>
            #ddayOverlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(30,30,40,0.72);
                z-index: 5000;
                display: flex;
                align-items: center;
                justify-content: center;
                backdrop-filter: blur(8px);
                transition: opacity 0.4s;
            }
            .dday-overlay-card {
                background: #fff url('https://www.transparenttextures.com/patterns/old-mathematics.png') repeat;
                border-radius: 18px;
                box-shadow: 0 24px 64px rgba(212,175,55,0.22), 0 2px 16px rgba(139,0,0,0.12);
                border: 2.5px solid var(--gold);
                padding: 44px 36px 32px 36px;
                min-width: 420px;
                max-width: 540px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            .dday-overlay-title {
                font-family: 'Cinzel', serif;
                font-size: 2.1rem;
                color: #8b0000;
                font-weight: bold;
                margin-bottom: 18px;
                letter-spacing: 0.03em;
            }
            .dday-overlay-text {
                font-family: 'Fauna One', serif;
                font-size: 1.15rem;
                color: #222;
                margin-bottom: 24px;
                line-height: 1.8;
                text-align: center;
            }
            .dday-overlay-meta {
                display: flex;
                gap: 18px;
                font-family: 'Cinzel', serif;
                font-size: 0.98rem;
                color: #bfa14a;
                margin-bottom: 32px;
                border-bottom: 1.5px solid var(--gold);
                padding-bottom: 12px;
            }
            .dday-overlay-btn {
                margin-top: 18px;
                padding: 12px 32px;
                font-family: 'Cinzel', serif;
                font-size: 1.1rem;
                color: #fff;
                background: linear-gradient(90deg, var(--gold), #8b0000);
                border: none;
                border-radius: 8px;
                box-shadow: 0 2px 12px rgba(212,175,55,0.12);
                cursor: pointer;
                transition: background 0.2s, color 0.2s;
            }
            .dday-overlay-btn:hover {
                background: linear-gradient(90deg, #8b0000, var(--gold));
                color: #fffbe6;
            }
            @media (max-width: 700px) {
                .dday-overlay-card {
                    min-width: 90vw;
                    max-width: 98vw;
                    padding: 24px 8px 18px 8px;
                }
                .dday-overlay-title {
                    font-size: 1.3rem;
                }
                .dday-overlay-text {
                    font-size: 0.98rem;
                }
                .dday-overlay-meta {
                    font-size: 0.82rem;
                    gap: 8px;
                    margin-bottom: 18px;
                    padding-bottom: 6px;
                }
                .dday-overlay-btn {
                    font-size: 0.95rem;
                    padding: 8px 18px;
                }
            }
        </style>
        <script>
            // D-Day açılış overlay
            document.addEventListener('DOMContentLoaded', () => {
                const overlay = document.getElementById('ddayOverlay');
                const startBtn = document.getElementById('ddayOverlayStart');
                if (overlay && startBtn) {
                    startBtn.onclick = function() {
                        overlay.style.display = 'none';
                        const timelineBar = document.getElementById('timelineBar');
                        const infoCard = document.getElementById('infoCard');
                        if (timelineBar) timelineBar.style.display = 'flex';
                        if (infoCard) infoCard.style.display = 'block';
                        selectTimelineNode(0);
                    };
                }
                // Overlay ilk açılışta gösterilsin
                if (overlay) overlay.style.display = 'flex';
                const timelineBar = document.getElementById('timelineBar');
                const infoCard = document.getElementById('infoCard');
                if (timelineBar) timelineBar.style.display = 'none';
                if (infoCard) infoCard.style.display = 'none';
            });
        </script>
    <div id="timelineBar">
        <div id="timelineTrack"></div>
        <button id="timelineLeft" class="timeline-arrow">&#8592;</button>
        <div id="timelineOvals"></div>
        <button id="timelineRight" class="timeline-arrow">&#8594;</button>
    </div>
    <style>
        #timelineBar {
            position: fixed;
            top: 32px;
            left: 0;
            width: 100vw;
            height: 80px;
            background: none;
            z-index: 4000;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
        }
        #timelineTrack {
            position: absolute;
            left: 0;
            top: 60px;
            width: 100vw;
            height: 2px;
            background: none;
            border-bottom: 2px solid rgba(212,175,55,0.4);
            z-index: 4001;
        }
        #timelineOvals {
            position: relative;
            width: 80vw;
            height: 60px;
            display: flex;
            align-items: center;
            overflow-x: auto;
            scrollbar-width: none;
            z-index: 4002;
            scroll-behavior: smooth;
            margin: 0 16px;
        }
        #timelineOvals::-webkit-scrollbar {
            display: none;
        }
        .timeline-oval {
            min-width: 180px;
            height: 44px;
            margin: 0 12px;
            background: #fff;
            border-radius: 22px / 18px;
            border: 2px solid var(--gold);
            box-shadow: 0 2px 12px rgba(212,175,55,0.08);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Cinzel', serif;
            font-size: 0.95rem;
            color: #222;
            cursor: pointer;
            position: relative;
            transition: box-shadow 0.2s, border 0.2s;
        }
        .timeline-oval[data-side="ally"] {
            border-left: 6px solid #2980b9;
        }
        .timeline-oval[data-side="axis"] {
            border-left: 6px solid #c0392b;
        }
        .timeline-oval.active {
            border: 2.5px solid var(--gold);
            box-shadow: 0 0 16px var(--gold);
        }
        .timeline-oval[data-dday] {
            background: linear-gradient(90deg, #fffbe6 80%, #ffe066 100%);
            font-size: 1.05rem;
            font-weight: bold;
            border: 2.5px solid var(--gold);
            box-shadow: 0 0 24px var(--gold);
        }
        .timeline-oval-date {
            font-family: 'Fauna One', serif;
            font-size: 0.75rem;
            color: rgba(40,40,40,0.65);
            margin-bottom: 2px;
        }
        .timeline-oval-title {
            font-family: 'Cinzel', serif;
            font-size: 0.88rem;
            color: #222;
            font-weight: 600;
            margin-bottom: 0;
        }
        .timeline-arrow {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--gold);
            background: #fff;
            color: var(--gold);
            font-size: 1.3rem;
            margin: 0 8px;
            box-shadow: 0 2px 8px rgba(212,175,55,0.08);
            cursor: pointer;
            z-index: 4003;
            transition: background 0.2s, color 0.2s;
        }
        .timeline-arrow:hover {
            background: var(--gold);
            color: #fff;
        }
        .timeline-dot {
            position: relative;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            margin: 0 18px;
            background: #2980b9;
            box-shadow: 0 0 0px #2980b9;
            cursor: pointer;
            transition: box-shadow 0.2s, border 0.2s;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .timeline-dot[data-side="axis"] {
            background: #c0392b;
            box-shadow: 0 0 0px #c0392b;
        }
        .timeline-dot.active {
            border: 2px solid var(--gold);
            box-shadow: 0 0 10px var(--gold);
        }
        .timeline-dot[data-dday] {
            border: 2.5px solid var(--gold);
            box-shadow: 0 0 16px var(--gold);
        }
        .timeline-date {
            position: absolute;
            top: 24px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Fauna One', serif;
            font-size: 0.75rem;
            color: rgba(40,40,40,0.65);
            background: none;
            pointer-events: none;
            user-select: none;
            font-weight: 500;
        }
        .timeline-dot:hover .timeline-tooltip {
            opacity: 1;
            pointer-events: auto;
        }
        .timeline-tooltip {
            position: absolute;
            bottom: 28px;
            left: 50%;
            transform: translateX(-50%);
            min-width: 180px;
            max-width: 320px;
            background: rgba(255,255,255,0.98);
            border: 1.5px solid var(--gold);
            border-radius: 8px;
            box-shadow: 0 6px 24px rgba(212,175,55,0.12);
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            color: #222;
            padding: 8px 12px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 4003;
        }
    </style>
    <script>
        // Oval timeline oluşturma
        function renderTimelineOvals() {
            const ovals = document.getElementById('timelineOvals');
            ovals.innerHTML = '';
            ddayMasterRoute.forEach((event, idx) => {
                const oval = document.createElement('div');
                oval.className = 'timeline-oval';
                oval.setAttribute('data-side', event.side);
                if (event.year === 1944 && event.month === 6 && event.day === 6) oval.setAttribute('data-dday', 'true');
                oval.onclick = () => {
                    selectTimelineNode(idx);
                };
                // Tarih ve başlık
                const dateLabel = document.createElement('div');
                dateLabel.className = 'timeline-oval-date';
                let ayStr = event.month === 1 ? 'Oca' : event.month === 2 ? 'Şub' : event.month === 3 ? 'Mar' : event.month === 4 ? 'Nis' : event.month === 5 ? 'May' : event.month === 6 ? 'Haz' : event.month === 7 ? 'Tem' : event.month === 8 ? 'Ağu' : event.month === 9 ? 'Eyl' : event.month === 10 ? 'Eki' : event.month === 11 ? 'Kas' : event.month === 12 ? 'Ara' : '';
                dateLabel.textContent = ayStr + ' ' + String(event.year).slice(-2);
                oval.appendChild(dateLabel);
                const titleLabel = document.createElement('div');
                titleLabel.className = 'timeline-oval-title';
                titleLabel.textContent = event.title;
                oval.appendChild(titleLabel);
                ovals.appendChild(oval);
            });
        }
        let timelineActiveIdx = 0;
        function selectTimelineNode(idx) {
            timelineActiveIdx = idx;
            // Oval vurgusu
            document.querySelectorAll('.timeline-oval').forEach((el, i) => {
                el.classList.toggle('active', i === idx);
            });
            // Harita ve info-card güncelle
            const event = ddayMasterRoute[idx];
            map.flyTo([event.lat, event.lon], 11);
            titleEl.textContent = event.title;
            descEl.textContent = event.desc;
            metaEl.textContent = `${event.day !== '--' ? event.day + ' ' : ''}${event.month !== '--' ? event.month + ' ' : ''}${event.year} · ${event.time !== '--:--' ? event.time : ''}`;
            badgeEl.textContent = event.side === "ally" ? "MÜTTEFİK" : "MIHVER";
            badgeEl.className = `side-badge ${event.side}`;
            L.circleMarker([event.lat, event.lon], {
                color: event.side === "ally" ? '#2980b9' : '#c0392b',
                radius: 10
            }).addTo(map).bindPopup(event.title).openPopup();
        }
        // Scroll ile timelineBar sağa/sola kaydırma
        document.addEventListener('DOMContentLoaded', () => {
            renderTimelineOvals();
            selectTimelineNode(0);
            const ovals = document.getElementById('timelineOvals');
            ovals.addEventListener('wheel', function(e) {
                e.preventDefault();
                ovals.scrollLeft += e.deltaY;
            });
            document.getElementById('timelineLeft').onclick = () => {
                ovals.scrollLeft -= 200;
            };
            document.getElementById('timelineRight').onclick = () => {
                ovals.scrollLeft += 200;
            };
        });
    </script>
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>D-Day: Normandiya | Keşfe Başla</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Fauna+One&display=swap" rel="stylesheet">

    <style>
        :root {
            --ally-blue: #2c3e50;
            --axis-gray: #4b4b4b;
            --gold: #d4af37;
            --sand: #fdfaf3;
        }

        body { margin: 0; display: flex; height: 100vh; background: var(--sand); overflow: hidden; font-family: 'Fauna One', serif; }
        #map { flex-grow: 1; height: 100%; z-index: 1; }

        #sidebar-left {
            width: 320px;
            background: #f4f1ea;
            border-right: 3px solid var(--gold);
            padding: 24px;
            z-index: 1000;
            box-shadow: 5px 0 15px rgba(0,0,0,0.1);
            overflow-y: auto;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            transition: transform 0.4s ease-in-out;
            display: flex;
            flex-direction: column;
        }
        .single-post {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-left: 3px solid var(--gold);
            padding: 16px;
            margin-bottom: 18px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            transition: background 0.3s, transform 0.3s;
            cursor: pointer;
        }
        .single-post:hover {
            background: #fdf6e3;
            transform: translateX(8px);
        }
        .single-post-title {
            font-family: 'Cinzel', serif;
            color: #8b0000;
            font-size: 1.05rem;
            font-weight: bold;
            margin-bottom: 6px;
        }
        .single-post-sub {
            font-size: 0.92rem;
            color: #888;
            margin-bottom: 2px;
        }
        #customPostsList {
            flex: 1 1 auto;
        }
        .back-home {
            display: block;
            width: 100%;
            text-align: center;
            margin-top: auto;
            padding: 12px 0 0 0;
            color: var(--deep);
            font-family: 'Cinzel', serif;
            font-size: 1rem;
            text-decoration: underline;
            border-top: 1px solid #e0e0e0;
            background: none;
            transition: color 0.2s;
        }
        .back-home:hover {
            color: var(--gold);
        }

        #sidebar-left.closed {
            transform: translateX(-100%);
        }

        .sidebar-title {
            font-family: 'Cinzel', serif;
            color: var(--deep);
            border-bottom: 2px solid var(--gold);
            margin-bottom: 18px;
            padding-bottom: 10px;
            font-size: 1.1rem;
        }

#toggle-sidebar {
            position: absolute;
            right: 10px;
            top: 10px;
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--deep);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px 10px;
            transition: all 0.3s ease;
            -webkit-user-select: none;
            user-select: none;
        }

        #toggle-sidebar:active {
            transform: scale(0.95);
        }

        #toggle-sidebar:focus-visible,
        #open-sidebar:focus-visible,
        #caesarOverlayClose:focus-visible,
        .caesar-info-btn:focus-visible {
            outline: 2px solid var(--gold);
            outline-offset: 2px;
        }

        #open-sidebar {
            position: fixed;
            left: 10px;
            top: 20px;
            z-index: 4100;
            background: #f4f1ea;
            border: 2px solid var(--gold);
            color: var(--deep);
            padding: 10px 15px;
            cursor: pointer;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            font-weight: bold;
            transition: all 0.3s ease;
            display: none;
            -webkit-user-select: none;
            user-select: none;
        }

        #open-sidebar:active {
            transform: scale(0.95);
        }

        /* Timeline ve Kart Tasarımı (Senin Sezar kodunla uyumlu) */
        #ddayTimeline {
            position: fixed; right: 24px; bottom: 24px; height: 64px; width: 64px; z-index: 2500; display: flex; align-items: center; justify-content: center;
        }
        .timeline-track {
            position: absolute; left: 50%; top: 0; transform: translateX(-50%);
            width: 4px; height: 100%; background: linear-gradient(180deg, var(--ally-blue), var(--axis-gray));
            border-radius: 10px;
        }
        #ddaySlider {
            -webkit-appearance: none; appearance: none; width: 60vh; height: 24px;
            display: none;
        }
        
        .info-card {
            position: fixed;
            right: 48px;
            top: 120px;
            width: 450px;
            max-height: 60vh;
            background: #fff url('https://www.transparenttextures.com/patterns/old-mathematics.png') repeat;
            border: 2px solid var(--gold);
            border-radius: 14px;
            box-shadow: 0 24px 64px rgba(212,175,55,0.22), 0 2px 16px rgba(139,0,0,0.12);
            z-index: 2500;
            display: block;
            overflow: hidden;
            padding-bottom: 48px;
        }
        .card-header {
            padding: 18px 16px 12px 16px;
            background: #f4f1ea;
            font-family: 'Cinzel', serif;
            color: #8b0000;
            font-size: 1rem;
            font-weight: bold;
            border-bottom: 2px solid var(--gold);
            letter-spacing: 0.02em;
            position: relative;
        }
                .info-close-btn {
                    position: absolute;
                    right: 15px;
                    top: 10px;
                    width: 32px;
                    height: 32px;
                    background: none;
                    border: none;
                    color: #8b0000;
                    font-size: 1.3rem;
                    font-family: 'Cinzel', serif;
                    cursor: pointer;
                    z-index: 2501;
                    transition: color 0.2s;
                }
                .info-close-btn:hover {
                    color: var(--gold);
                }
        .card-body {
            padding: 18px 16px 12px 16px;
            font-size: 1rem;
            line-height: 1.8;
            overflow-y: auto;
            max-height: calc(60vh - 110px);
            scrollbar-width: thin;
        }
            <div id="infoCard" class="info-card">
                <button id="infoCloseBtn" class="info-close-btn" title="Kapat">&#10005;</button>
                <div class="card-header" id="eventTitle">D-Day Hazırlıkları</div>
                <div class="card-body">
                    <div id="sideBadge" class="side-badge ally">MÜTTEFİK</div>
                    <div id="eventMeta" style="font-weight: bold; margin-bottom: 5px;">6 Haziran 1944 · 00:15</div>
                    <div id="eventDesc">Paraşütçü birlikleri (101. ve 82. Hava İndirme) Normandiya'nın iç kesimlerine iniş yapmaya başladı.</div>
                </div>
            </div>
            <script>
                // InfoCard kapatma butonu
                document.addEventListener('DOMContentLoaded', () => {
                    const closeBtn = document.getElementById('infoCloseBtn');
                    const infoCard = document.getElementById('infoCard');
                    if (closeBtn && infoCard) {
                        closeBtn.onclick = function() {
                            infoCard.style.display = 'none';
                        };
                    }
                });
        .card-body::-webkit-scrollbar {
            width: 8px;
        }
        .card-body::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--gold), #8b0000);
            border-radius: 8px;
        }
        .card-body::-webkit-scrollbar-track {
            background: #f4f1ea;
        }
        .side-badge {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: inline-block;
            padding: 4px 16px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 2px 8px rgba(40,40,40,0.08);
            z-index: 2401;
        }
        .ally { background: #2980b9; }
        .axis { background: #c0392b; }
        @media (max-width: 700px) {
            .info-card {
                width: 98vw;
                max-height: 98vh;
                right: 1vw;
                top: 1vw;
                transform: none;
                border-radius: 8px;
                padding-bottom: 56px;
            }
            .card-header {
                font-size: 1rem;
                padding: 14px 8px 8px 8px;
            }
            .card-body {
                font-size: 0.92rem;
                padding: 12px 8px 8px 8px;
                max-height: calc(98vh - 90px);
            }
            .side-badge {
                font-size: 0.78rem;
                padding: 4px 10px;
                bottom: 10px;
            }
        }
    </style>
</head>
<body>

    <div id="map"></div>

    <div id="ddayTimeline">
        <button id="ddayNextBtn" style="width:44px;height:44px;border-radius:50%;border:2px solid var(--gold);background:#fff;color:var(--ally-blue);font-size:1.5rem;box-shadow:0 4px 10px rgba(0,0,0,0.10);cursor:pointer;">❯</button>
    </div>

    <div id="infoCard" class="info-card">
        <div class="card-header" id="eventTitle">D-Day Hazırlıkları</div>
        <div class="card-body">
            <div id="sideBadge" class="side-badge ally">MÜTTEFİK</div>
            <div id="eventMeta" style="font-weight: bold; margin-bottom: 5px;">6 Haziran 1944 · 00:15</div>
            <div id="eventDesc">Paraşütçü birlikleri (101. ve 82. Hava İndirme) Normandiya'nın iç kesimlerine iniş yapmaya başladı.</div>
        </div>
    </div>

    <div id="sidebar-left">
        <button id="toggle-sidebar" onclick="toggleSidebar()" aria-label="Sol paneli kapat">❮</button>
        <h2 class="sidebar-title">KEŞFE BAŞLA</h2>
        <div id="customPostsList">Yükleniyor...</div>
        <a href="../index.html" class="back-home">Ana Sayfaya Dön</a>
    </div>
    <button id="open-sidebar" onclick="toggleSidebar()" aria-label="Sol paneli aç">❯</button>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const ddayMasterRoute = [
            // Ön Hazırlık ve Strateji
            {
                year: 1942, month: 8, day: 19, time: "--:--", side: "ally", category: "Hazırlık",
                title: "Dieppe Baskını",
                desc: "Müttefiklerin ilk başarısız denemesi. Büyük bir felaket oldu ama Normandiya için dersler çıkarıldı.",
                lat: 49.9270, lon: 1.0792
            },
            {
                year: 1943, month: 11, day: 1, time: "--:--", side: "axis", category: "Hazırlık",
                title: "Rommel'in Atanması",
                desc: "Erwin Rommel, Atlantik Duvarı'nın başına geçti. Milyonlarca engel ve mayın döşendi.",
                lat: 49.0814, lon: 1.6288
            },
            {
                year: 1944, month: 1, day: 1, time: "--:--", side: "axis", category: "Hazırlık",
                title: "Atlantik Duvarı İnşası",
                desc: "Pas-de-Calais bölgesinde devasa savunma hatları tamamlandı.",
                lat: 50.9513, lon: 1.8586
            },
            {
                year: 1944, month: 4, day: 1, time: "--:--", side: "ally", category: "İstihbarat",
                title: "Fortitude Operasyonu",
                desc: "Sahte ordular ve şişme tanklarla Almanlar kandırılmaya başlandı. Dover'dan Pas-de-Calais hedef gösterildi.",
                lat: 51.1279, lon: 1.3132
            },
            // D-Day Öncesi Son Hamleler
            {
                year: 1944, month: 5, day: 15, time: "--:--", side: "ally", category: "Hazırlık",
                title: "Son Planlama",
                desc: "Montgomery ve Eisenhower Londra'da son planı onayladı.",
                lat: 51.4900, lon: -0.2140
            },
            {
                year: 1944, month: 6, day: 4, time: "--:--", side: "ally", category: "Hazırlık",
                title: "Fırtına Gecikmesi",
                desc: "Kötü hava şartları yüzünden operasyon 24 saat ertelendi.",
                lat: 50.8757, lon: -1.1110
            },
            // D-Day: 6 Haziran 1944
            {
                year: 1944, month: 6, day: 6, time: "00:15", side: "ally", category: "Çıkarma",
                title: "Hava İndirme",
                desc: "101. ve 82. Hava İndirme tümenleri karanlıkta Normandiya'nın arkasına sızdı.",
                lat: 49.4089, lon: -1.3174
            },
            {
                year: 1944, month: 6, day: 6, time: "01:00", side: "axis", category: "Karşı Saldırı",
                title: "Alarm Durumu",
                desc: "Alman 7. Ordusu tam teyakkuza geçti ama Hitler hala uyuyor.",
                lat: 49.1160, lon: -1.0910
            },
            {
                year: 1944, month: 6, day: 6, time: "05:00", side: "ally", category: "Çıkarma",
                title: "Deniz Bombardımanı",
                desc: "Donanma ateşi sahil hattını dövmeye başladı.",
                lat: 49.5000, lon: -0.7000
            },
            {
                year: 1944, month: 6, day: 6, time: "06:30", side: "ally", category: "Çıkarma",
                title: "Omaha Çıkarması",
                desc: "Amerikan birlikleri kıyıya ulaştı. Omaha'da kıyım başladı.",
                lat: 49.3697, lon: -0.8711
            },
            {
                year: 1944, month: 6, day: 6, time: "10:00", side: "axis", category: "Karşı Saldırı",
                title: "WN62 Direnişi",
                desc: "Alman savunmacılar Omaha plajında Müttefikleri saatlerce durdurdu.",
                lat: 49.3590, lon: -0.8470
            },
            {
                year: 1944, month: 6, day: 6, time: "12:00", side: "ally", category: "Çıkarma",
                title: "Tepe Tırmanışı",
                desc: "Ranger'lar Pointe du Hoc uçurumlarını tırmanarak top bataryalarını susturdu.",
                lat: 49.3974, lon: -0.9894
            },
            {
                year: 1944, month: 6, day: 6, time: "16:00", side: "axis", category: "Karşı Saldırı",
                title: "Panzer Karşı Atağı",
                desc: "Lebisey Ormanı'nda Panzer karşı atağı başlatıldı.",
                lat: 49.2090, lon: -0.3620
            },
            // Çıkarma Sonrası
            {
                year: 1944, month: 6, day: 7, time: "--:--", side: "ally", category: "Çıkarma",
                title: "Köprübaşı Birleşmesi",
                desc: "Beş plaj arasındaki boşluklar kapatıldı.",
                lat: 49.2760, lon: -0.7030
            },
            {
                year: 1944, month: 8, day: 25, time: "--:--", side: "ally", category: "Çıkarma",
                title: "Paris'in Kurtuluşu",
                desc: "Normandiya'daki zaferin sonucu olarak başkent özgürlüğüne kavuştu.",
                lat: 48.8566, lon: 2.3522
            }
        ];

        const map = L.map('map', { zoomControl: false }).setView([49.3, -0.7], 9);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
        L.control.zoom({ position: 'bottomright' }).addTo(map);

        const titleEl = document.getElementById('eventTitle');
        const descEl = document.getElementById('eventDesc');
        const metaEl = document.getElementById('eventMeta');
        const badgeEl = document.getElementById('sideBadge');
        let ddayStep = 0;
        function updateDDay(index) {
            const data = ddayData[index];
            map.flyTo([data.lat, data.lon], 11);
            titleEl.textContent = data.title;
            descEl.textContent = data.desc;
            metaEl.textContent = `6 Haziran 1944 · ${data.time}`;
            badgeEl.textContent = data.side === "ally" ? "MÜTTEFİK" : "MIHVER";
            badgeEl.className = `side-badge ${data.side}`;
            L.circleMarker([data.lat, data.lon], {
                color: data.side === "ally" ? '#2980b9' : '#c0392b',
                fillColor: data.side === "ally" ? '#2980b9' : '#c0392b',
                radius: 10
            }).addTo(map).bindPopup(data.title).openPopup();
        }
        document.getElementById('ddayNextBtn').onclick = function() {
            ddayStep = (ddayStep + 1) % ddayData.length;
            updateDDay(ddayStep);
        };
        window.onload = function() {
            var sidebar = document.getElementById('sidebar-left');
            var openBtn = document.getElementById('open-sidebar');
            if (sidebar) sidebar.classList.add('closed');
            if (openBtn) openBtn.style.display = 'block';
            fetchCustomSidebar();
            updateDDay(0);
        };

        async function fetchCustomSidebar() {
            const container = document.getElementById('customPostsList');
            let html = '';
            const customPages = [
                {
                    url: 'https://sarpkantman.com/bir-nehir-bir-cumle-bir-imparatorluk-zar-atildi',
                    slug: 'bir-nehir-bir-cumle-bir-imparatorluk-zar-atildi',
                    sub: "Rubicon'u geçen karar",
                    local: 'caesar.html'
                },
                {
                    url: 'https://sarpkantman.com/tag/d-day',
                    slug: 'd-day',
                    sub: "II. Dünya Savaşı",
                    local: 'd-day.html'
                }
            ];
            for (const page of customPages) {
                try {
                    let title = '';
                    if (page.url.includes('/tag/')) {
                        title = 'D-Day ve Normandiya';
                    } else {
                        const resp = await fetch(`https://sarpkantman.com/wp-json/wp/v2/posts?slug=${page.slug}`);
                        const data = await resp.json();
                        title = data && data[0] && data[0].title && data[0].title.rendered ? data[0].title.rendered : page.slug;
                    }
                    if (page.local) {
                        html += `<div class="single-post" onclick="window.location.href='${page.local}'">
                            <div class="single-post-title">${title}</div>
                            <div class="single-post-sub">${page.sub}</div>
                        </div>`;
                    } else {
                        html += `<div class="single-post" onclick="window.open('${page.url}','_blank')">
                            <div class="single-post-title">${title}</div>
                            <div class="single-post-sub">${page.sub}</div>
                        </div>`;
                    }
                } catch (e) {
                    html += `<div class="single-post"><div class="single-post-title">${page.slug}</div><div class="single-post-sub">(Başlık alınamadı)</div></div>`;
                }
            }
            container.innerHTML = html;
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar-left');
            const openBtn = document.getElementById('open-sidebar');
            const timelineBar = document.getElementById('timelineBar');
            sidebar.classList.toggle('closed');
            if (sidebar.classList.contains('closed')) {
                setTimeout(() => { if (openBtn) openBtn.style.display = 'block'; }, 300);
                if (timelineBar) {
                    timelineBar.style.display = 'flex';
                    timelineBar.style.pointerEvents = 'auto';
                }
            } else {
                if (openBtn) openBtn.style.display = 'none';
                if (timelineBar) {
                    timelineBar.style.display = 'none';
                    timelineBar.style.pointerEvents = 'none';
                }
            }
            setTimeout(() => {
                if (typeof map !== 'undefined') {
                    map.invalidateSize();
                }
            }, 400);
        }
    </script>
</body>
    <!-- Üye Giriş & Kayıt Paneli -->
    <div id="loginBar">
        <a href="#" class="login-forgot">Şifremi Unuttum?</a>
        <div class="login-inputs">
            <input type="text" class="login-input" placeholder="Kullanıcı Adı" autocomplete="username">
            <input type="password" class="login-input" placeholder="Şifre" autocomplete="current-password">
            <button class="login-btn">Giriş Yap</button>
            <button class="register-btn">Kayıt Ol</button>
        </div>
    </div>
    <style>
        #loginBar {
            position: fixed !important;
            top: 10px !important;
            right: 10px !important;
            z-index: 9999 !important;
            display: flex !important;
            flex-direction: column;
            align-items: flex-end;
            background: rgba(0,0,0,0.8) !important;
            padding: 10px 18px 12px 18px !important;
            border: 1.5px solid var(--gold) !important;
            border-radius: 12px;
            min-width: 320px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.18);
        }
        .login-forgot {
            font-family: 'Fauna One', serif;
            font-size: 0.8rem;
            color: #fff;
            margin-bottom: 6px;
            text-decoration: underline;
            cursor: pointer;
            align-self: flex-end;
            transition: color 0.2s;
        }
        .login-forgot:hover {
            color: var(--gold);
        }
        .login-inputs {
            display: flex;
            flex-direction: row;
            gap: 8px;
            align-items: center;
        }
        .login-input {
            font-family: 'Fauna One', serif;
            font-size: 0.8rem;
            padding: 6px 10px;
            border: 1px solid var(--gold);
            border-radius: 6px;
            background: rgba(255,255,255,0.92);
            color: #222;
            outline: none;
            min-width: 90px;
            max-width: 120px;
            transition: border 0.2s;
        }
        .login-input:focus {
            border: 1.5px solid var(--deep);
        }
        .login-btn {
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            background: var(--deep);
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 6px 16px;
            margin-left: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s;
        }
        .login-btn:hover {
            background: #a80000;
        }
        .register-btn {
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            background: transparent;
            color: var(--gold);
            border: 1.5px solid var(--gold);
            border-radius: 6px;
            padding: 6px 14px;
            margin-left: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s, color 0.2s;
        }
        .register-btn:hover {
            background: var(--gold);
            color: #222;
        }
        @media (max-width: 600px) {
            #loginBar {
                min-width: 90vw;
                right: 2vw !important;
                left: 2vw !important;
                padding: 8px 4vw 10px 4vw !important;
            }
            .login-inputs {
                flex-direction: column;
                gap: 6px;
                align-items: stretch;
            }
            .login-btn, .register-btn {
                width: 100%;
                margin-left: 0;
            }
        }
    </style>
</html>